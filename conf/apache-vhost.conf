<VirtualHost *:80>
    ServerName swimwithjj.com
    RedirectPermanent / http://www.swimwithjj.com
</VirtualHost>

<VirtualHost *:80>
    ServerAdmin admin@swimwithjj.com
    ServerName www.swimwithjj.com
    ServerAlias *.swimwithjj.com

    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteCond %{REQUEST_FILENAME} !-d
    RewriteCond %{REQUEST_FILENAME}.html -f
    RewriteRule ^(.+)$ $1.html [L,QSA]

#301 from example.com/page.html to example.com/page
RewriteCond %{THE_REQUEST} ^[A-Z]{3,9}\ /.*\.html\ HTTP/
RewriteRule ^(.*)\.html$ /$1 [R=301,L]

    DocumentRoot /var/www/www.swimwithjj.com/
    <Directory /var/www/www.swimwithjj.com/>
        Options ExecCGI
        AddHandler cgi-script .cgi .py
    </Directory>

    <Directory /var/www/www.swimwithjj.com/admin>
        Options ExecCGI
        AddHandler cgi-script .cgi .py
        AuthType Basic
        AuthName "Restricted Access"
        AuthUserFile /etc/apache2/htpasswd
        Require valid-user
    </Directory>

    <Directory /var/www/www.swimwithjj.com/scripts>
        Deny from all
    </Directory>

    <Directory /var/www/www.swimwithjj.com/tests>
        Deny from all
    </Directory>

    ErrorLog /var/log/apache2/www.swimwithjj.com-error.log
    LogLevel warn

    CustomLog /var/log/apache2/www.swimwithjj.com-access.log combined
</VirtualHost>
